<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Quiz: Proxy e VPN</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    #quiz-card, #start-screen {
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
      background: linear-gradient(to bottom right, #ffffff, #f0f8ff);
    }
    .card-title {
      color: #0056b3;
      font-weight: 700;
    }
    #question-text {
      color: #333;
      line-height: 1.6;
    }
    .list-group-item {
      background-color: #f8f9fa;
      border: 1px solid #dee2e6;
      margin-bottom: 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 1.1em;
      padding: 12px 20px;
    }
    .list-group-item:hover {
      background-color: #e2e6ea;
      border-color: #dae0e5;
    }
    .list-group-item.selected {
      background-color: #cfe2ff;
      border-color: #0d6efd;
      font-weight: bold;
    }
    .list-group-item.correct {
      background-color: #d4edda;
      border-color: #28a745;
      color: #155724;
      font-weight: bold;
      animation: pulseCorrect 0.7s ease-in-out;
    }
    .list-group-item.wrong {
      background-color: #f8d7da;
      border-color: #dc3545;
      color: #721c24;
      font-weight: bold;
      animation: shakeWrong 0.5s ease-in-out;
    }
    #next-button {
      background-color: #007bff;
      border-color: #007bff;
    }
    #next-button:hover {
      background-color: #0056b3;
      border-color: #0056b3;
    }
    @keyframes shakeWrong {
      0% { transform: translateX(0); }
      25% { transform: translateX(-5px) rotate(-1deg); }
      50% { transform: translateX(5px) rotate(1deg); }
      75% { transform: translateX(-5px) rotate(-1deg); }
      100% { transform: translateX(0); }
    }
    @keyframes pulseCorrect {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }
    .animate__doubt {
      animation: tada;
      animation-duration: 0.8s;
    }
    .animate__fade-in-up {
      animation: fadeInUp;
      animation-duration: 0.8s;
    }
    #result-screen h2 {
      color: #28a745;
      font-weight: bold;
    }
    #result-screen p {
      color: #555;
    }
    #restart-button {
      background-color: #17a2b8;
      border-color: #17a2b8;
    }
    #restart-button:hover {
      background-color: #138496;
      border-color: #138496;
    }
    #start-screen {
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      min-height: 400px;
    }
    #start-button {
      background-color: #28a745;
      border-color: #28a745;
    }
    #start-button:hover {
      background-color: #218838;
      border-color: #1e7e34;
    }
  </style>
</head>
<body class="bg-light">
  <div class="container mt-5">
    <div class="row justify-content-center">
      <div class="col-md-8 col-lg-6">
        <div id="start-screen" class="card shadow-lg p-4 mb-5 bg-white rounded animate__animated animate__fadeIn">
          <h1 class="card-title text-center mb-4 text-primary">Bem-vindo ao Quiz!</h1>
          <p class="fs-5 text-dark mb-4">Teste seus conhecimentos sobre Proxies e VPNs.</p>
          <button id="start-button" class="btn btn-success btn-lg">Iniciar Quiz</button>
        </div>

        <div id="quiz-card" class="card shadow-lg p-4 mb-5 bg-white rounded animate__animated d-none">
          <h1 class="card-title text-center mb-4 text-primary">Quiz: Proxy e VPN</h1>
          <div id="question-container">
            <p id="question-text" class="fs-5 fw-bold text-dark mb-4"></p>
            <div id="answers-container" class="list-group"></div>
          </div>
          <div class="d-grid gap-2 mt-4">
            <button id="next-button" class="btn btn-primary btn-lg">Confirmar Resposta</button>
          </div>
          <div id="feedback" class="mt-4 text-center"></div>
          <div id="result-screen" class="text-center mt-5 d-none">
            <h2 class="text-success mb-3">Quiz Concluído!</h2>
            <p class="fs-4">Você acertou <span id="score">0</span> de <span id="total-questions">0</span> perguntas.</p>
            <button id="restart-button" class="btn btn-info btn-lg mt-3">Refazer Quiz</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Função para embaralhar arrays (Fisher-Yates)
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    const questions = [
      {
        question: "Qual a principal função de uma VPN?",
        answers: [
          { text: "Melhorar a velocidade da internet.", correct: false },
          { text: "Proteger sua conexão criptografando os dados e ocultando seu IP.", correct: true },
          { text: "Desativar o firewall do roteador.", correct: false },
          { text: "Substituir o antivírus.", correct: false }
        ]
      },
      {
        question: "O que faz um servidor Proxy?",
        answers: [
          { text: "Envia seu sinal diretamente para a internet.", correct: false },
          { text: "Bloqueia todos os acessos externos automaticamente.", correct: false },
          { text: "Atua como intermediário entre o usuário e a internet, podendo filtrar e registrar acessos.", correct: true },
          { text: "Instala antivírus no navegador.", correct: false }
        ]
      },
      {
        question: "Usar uma VPN em redes públicas como Wi-Fi de aeroportos ajuda a:",
        answers: [
          { text: "Reduzir o consumo da bateria.", correct: false },
          { text: "Evitar anúncios.", correct: false },
          { text: "Proteger seus dados criptografando sua navegação.", correct: true },
          { text: "Compartilhar sua internet com outros dispositivos.", correct: false }
        ]
      },
      {
        question: "Qual é um risco de proxies gratuitos?",
        answers: [
          { text: "Sempre são ilegais.", correct: false },
          { text: "Podem monitorar seu tráfego e roubar dados.", correct: true },
          { text: "Aumentam o uso de CPU.", correct: false },
          { text: "Apagam seu histórico automaticamente.", correct: false }
        ]
      },
      {
        question: "VPNs geralmente utilizam qual tipo de protocolo?",
        answers: [
          { text: "FTP", correct: false },
          { text: "SMTP", correct: false },
          { text: "OpenVPN ou WireGuard", correct: true },
          { text: "HTML", correct: false }
        ]
      },
      {
        question: "Qual dessas opções NÃO é função de uma VPN?",
        answers: [
          { text: "Ocultar o IP do usuário.", correct: false },
          { text: "Acessar redes privadas remotamente.", correct: false },
          { text: "Filtrar conteúdos por categoria como um proxy escolar.", correct: true },
          { text: "Criptografar o tráfego.", correct: false }
        ]
      },
      {
        question: "Por que proxies são comuns em escolas?",
        answers: [
          { text: "Para permitir VPNs e conexões remotas.", correct: false },
          { text: "Para filtrar e bloquear acesso a conteúdos indesejados.", correct: true },
          { text: "Para aumentar a velocidade da internet.", correct: false },
          { text: "Para ocultar os IPs dos alunos.", correct: false }
        ]
      },
      {
        question: "Qual é o papel de uma política No-Logs em VPNs?",
        answers: [
          { text: "Registrar todos os acessos do usuário.", correct: false },
          { text: "Eliminar senhas salvas.", correct: false },
          { text: "Garantir que o provedor não armazene informações de navegação.", correct: true },
          { text: "Fornecer relatórios diários.", correct: false }
        ]
      },
      {
        question: "O que acontece ao usar VPN para acessar conteúdos de outro país?",
        answers: [
          { text: "Você simula estar naquele país e acessa conteúdo restrito.", correct: true },
          { text: "Você perde a conexão de internet.", correct: false },
          { text: "Você envia dados para o país de origem.", correct: false },
          { text: "Você desativa o firewall do navegador.", correct: false }
        ]
      },
      {
        question: "Qual a diferença entre proxy e VPN?",
        answers: [
          { text: "VPN criptografa todo o tráfego, proxy geralmente não.", correct: true },
          { text: "Proxy é mais seguro que VPN.", correct: false },
          { text: "VPN só funciona em escolas.", correct: false },
          { text: "Não existe diferença.", correct: false }
        ]
      }
    ];

    // Embaralha as perguntas antes de iniciar
    shuffleArray(questions);

    // Variáveis do quiz
    const startScreen = document.getElementById('start-screen');
    const startButton = document.getElementById('start-button');
    const quizCard = document.getElementById('quiz-card');
    const questionText = document.getElementById('question-text');
    const answersContainer = document.getElementById('answers-container');
    const nextButton = document.getElementById('next-button');
    const feedbackDiv = document.getElementById('feedback');
    const resultScreen = document.getElementById('result-screen');
    const scoreSpan = document.getElementById('score');
    const totalQuestionsSpan = document.getElementById('total-questions');
    const restartButton = document.getElementById('restart-button');

    let currentQuestionIndex = 0;
    let score = 0;
    let selectedAnswerButton = null;

    // Inicia o quiz
    function startQuiz() {
      startScreen.classList.replace('animate__fadeIn', 'animate__fadeOut');
      setTimeout(() => {
        startScreen.classList.add('d-none');
        quizCard.classList.remove('d-none');
        quizCard.classList.replace('animate__fadeOutUp', 'animate__fadeInUp');
        currentQuestionIndex = 0;
        score = 0;
        resultScreen.classList.add('d-none');
        nextButton.textContent = "Confirmar Resposta";
        nextButton.classList.remove('d-none');
        showQuestion();
      }, 500);
    }

    // Mostra pergunta atual
    function showQuestion() {
      resetState();
      const currentQuestion = questions[currentQuestionIndex];
      questionText.textContent = `${currentQuestionIndex + 1}. ${currentQuestion.question}`;

      // Embaralha alternativas
      const shuffledAnswers = [...currentQuestion.answers];
      shuffleArray(shuffledAnswers);

      shuffledAnswers.forEach(answer => {
        const button = document.createElement('button');
        button.textContent = answer.text;
        button.classList.add('list-group-item', 'list-group-item-action');
        if (answer.correct) button.dataset.correct = true;
        button.addEventListener('click', selectAnswer);
        answersContainer.appendChild(button);
      });
    }

    function resetState() {
      selectedAnswerButton = null;
      feedbackDiv.textContent = '';
      while (answersContainer.firstChild) {
        answersContainer.removeChild(answersContainer.firstChild);
      }
      nextButton.textContent = "Confirmar Resposta";
      nextButton.removeEventListener('click', goToNextQuestion);
      nextButton.addEventListener('click', handleNextButton);
    }

    function selectAnswer(e) {
      const clickedButton = e.target;

      if (selectedAnswerButton && selectedAnswerButton !== clickedButton) {
        selectedAnswerButton.classList.remove('selected', 'animate__doubt');
      }

      if (clickedButton.classList.contains('selected')) {
        clickedButton.classList.remove('selected', 'animate__doubt');
        feedbackDiv.textContent = '';
        selectedAnswerButton = null;
      } else {
        clickedButton.classList.add('selected', 'animate__doubt');
        feedbackDiv.textContent = "Tem certeza que essa é sua resposta?";
        selectedAnswerButton = clickedButton;
      }
    }

    function handleNextButton() {
      if (!selectedAnswerButton) {
        feedbackDiv.innerHTML = '<span class="text-warning fw-bold">Por favor, selecione uma alternativa antes de confirmar.</span>';
        quizCard.classList.add('animate__shakeX');
        setTimeout(() => quizCard.classList.remove('animate__shakeX'), 500);
        return;
      }

      const isCorrect = selectedAnswerButton.dataset.correct === 'true';

      Array.from(answersContainer.children).forEach(button => {
        button.removeEventListener('click', selectAnswer);
        button.classList.remove('list-group-item-action');

        if (button.dataset.correct === 'true') {
          button.classList.add('correct');
        } else if (button === selectedAnswerButton && !isCorrect) {
          button.classList.add('wrong');
        }

        if (button === selectedAnswerButton && isCorrect) {
          button.classList.remove('selected', 'animate__doubt');
        } else if (button !== selectedAnswerButton) {
          button.classList.remove('selected', 'animate__doubt');
        }
      });

      if (isCorrect) {
        score++;
        feedbackDiv.innerHTML = '<span class="text-success fw-bold animate__animated animate__heartBeat">Correto! Parabéns!</span>';
      } else {
        feedbackDiv.innerHTML = '<span class="text-danger fw-bold animate__animated animate__shakeX">Incorreto! A resposta correta foi destacada.</span>';
      }

      nextButton.textContent = "Próxima Pergunta";
      nextButton.removeEventListener('click', handleNextButton);
      nextButton.addEventListener('click', goToNextQuestion);
    }

    function goToNextQuestion() {
      if (currentQuestionIndex < questions.length - 1) {
        currentQuestionIndex++;
        quizCard.classList.remove('animate__fadeInUp');
        void quizCard.offsetWidth; // trigger reflow para animação funcionar
        quizCard.classList.add('animate__fadeInUp');
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      questionText.textContent = '';
      answersContainer.innerHTML = '';
      nextButton.classList.add('d-none');
      feedbackDiv.textContent = '';

      scoreSpan.textContent = score;
      totalQuestionsSpan.textContent = questions.length;
      resultScreen.classList.remove('d-none');
      quizCard.classList.remove('animate__fadeInUp');
      quizCard.classList.add('animate__flipInY');
    }

    restartButton.addEventListener('click', () => {
      quizCard.classList.remove('animate__flipInY');
      quizCard.classList.add('animate__fadeOutUp');
      setTimeout(() => {
        resultScreen.classList.add('d-none');
        startScreen.classList.remove('d-none', 'animate__fadeOut');
        startScreen.classList.add('animate__fadeIn');
      }, 800);
    });

    startButton.addEventListener('click', startQuiz);
  </script>
</body>
</html>
